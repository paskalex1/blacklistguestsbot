# üïµÔ∏è‚Äç‚ôÇÔ∏è Telegram Bot ‚Äî @blacklistguestsbot  
### –ü—Ä–æ–µ–∫—Ç: ¬´–ù–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –≥–æ—Å—Ç–∏¬ª

–ë–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–µ–π—Å–æ–≤ –æ—Ç –æ—Ç–µ–ª—å–µ—Ä–æ–≤ –æ –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö –≥–æ—Å—Ç—è—Ö.  
–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **aiogram 3**, —Ä–∞–∑–º–µ—â—ë–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º **Ubuntu**.  
–ü–æ—Å—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –∫–∞–Ω–∞–ª **[@blacklistguests](https://t.me/blacklistguests)** –ø–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–µ–π—Å–∞  
- –ü–æ—à–∞–≥–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ: —Å—Ç—Ä–∞–Ω–∞ ‚Üí –≥–æ—Ä–æ–¥ ‚Üí –§–ò–û ‚Üí —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí —Ñ–æ—Ç–æ  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞  
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –¥–æ 10 —Ñ–æ—Ç–æ  
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è: –ø–æ—Å—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è  
- –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª  
- –ü–æ—Å–ª–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é  
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã `/add_country`, `/del_country`, `/list_countries`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
blacklistguestsbot/
‚îÇ
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ü–æ–¥–≥—Ä—É–∑–∫–∞ .env, —Ç–æ–∫–µ–Ω, —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py            # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞ + –º–æ–¥–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ keyboards.py           # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–º–µ–Ω—é, –∫–Ω–æ–ø–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ states.py              # FSM-—Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ countries.py           # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ countries.json         # –§–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º —Å—Ç—Ä–∞–Ω
‚îÇ
‚îú‚îÄ‚îÄ .env                       # –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–º. –Ω–∏–∂–µ)
‚îú‚îÄ‚îÄ requirements.txt           # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ run.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞)
‚îî‚îÄ‚îÄ .venv/                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python

---

## üîê –§–∞–π–ª `.env` (–ø—Ä–∏–º–µ—Ä)

–°–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
BOT_TOKEN=1234567890:AAAbbbCCCDDDeeeFFFgggHHHiiiJJJkkk
CHANNEL_USERNAME=@blacklistguests
ADMIN_IDS=123456789,987654321
ADMIN_IDS ‚Äî Telegram ID –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
–£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID –º–æ–∂–Ω–æ —É –±–æ—Ç–∞ @userinfobot

üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (Ubuntu)
sudo apt update
sudo apt install -y git python3-venv
sudo mkdir -p /opt/blacklistguestsbot
sudo chown $USER:$USER /opt/blacklistguestsbot
cd /opt/blacklistguestsbot

git clone https://github.com/<–¢–í–û–ô_–õ–û–ì–ò–ù>/blacklistguestsbot.git .
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt

nano .env    # –≤—Å—Ç–∞–≤—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
python run.py
–ï—Å–ª–∏ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram ‚Üí –≤—Å—ë –æ–∫ ‚úÖ
–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—à—å (Ctrl + C) –∏ —Å–æ–∑–¥–∞—ë—à—å systemd-—Å–µ—Ä–≤–∏—Å.

üß© systemd-—Å–µ—Ä–≤–∏—Å /etc/systemd/system/blacklistguestsbot.service
[Unit]
Description=Telegram bot: blacklistguestsbot
After=network.target

[Service]
Type=simple
User=admin               # –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
WorkingDirectory=/opt/blacklistguestsbot
ExecStart=/opt/blacklistguestsbot/.venv/bin/python /opt/blacklistguestsbot/run.py
Restart=always

[Install]
WantedBy=multi-user.target

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å:
sudo systemctl daemon-reload
sudo systemctl enable blacklistguestsbot
sudo systemctl start blacklistguestsbot
sudo systemctl status blacklistguestsbot

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
sudo journalctl -u blacklistguestsbot -f


üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Git

–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤"
git push origin main

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
ssh root@your-server
cd /opt/blacklistguestsbot
git pull
source .venv/bin/activate
pip install -r requirements.txt   # –µ—Å–ª–∏ –º–µ–Ω—è–ª–∏—Å—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo systemctl restart blacklistguestsbot
sudo systemctl status blacklistguestsbot

üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
sudo systemctl stop blacklistguestsbot      # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
sudo systemctl start blacklistguestsbot     # –∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart blacklistguestsbot   # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl status blacklistguestsbot    # —Å—Ç–∞—Ç—É—Å
sudo journalctl -u blacklistguestsbot -f    # –ª–æ–≥–∏

üí° –ü–ª–∞–Ω –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
 –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é

 –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–µ–π—Å–æ–≤ –≤ –±–∞–∑–µ (–ø–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞)

 –ü–æ–¥—Å–≤–µ—Ç–∫–∞ ¬´–∑–ª–æ—Å—Ç–Ω—ã—Ö –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–π¬ª (–≥–æ—Å—Ç—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)

 –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ —É –∞–≤—Ç–æ—Ä–∞

 Inline-–ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –≥–æ—Å—Ç–µ–π –ø—Ä—è–º–æ –≤ Telegram

 –û—Ç—á—ë—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

–ê–≤—Ç–æ—Ä: @t0nc0
